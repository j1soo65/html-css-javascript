<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Member Join From</title>
<script type="text/javascript">
function changeBgColor(x){
   document.getElementById(x).style.background="yellow";
}
function changeBgColorOrg(x){
	document.getElementById(x).style.background="";
}
function keyPress_hangul(x){
	if(!checkHangul(document.getElementById(x).value)){
		document.getElementById(x).select();
		document.getElementById(x).focus();
		document.getElementById("reqText_Name").innerHTML = "한글만 입력하세요";
	}else{
		document.getElementById("reqText_Name").innerHTML = "";
	}
}
function checkHangul(ch){
   c = ch.charCodeAt(0);
   if( c < 12592 || 12687 < c) return false;
   return true;
}
function keyPress_id(x){
	id = document.getElementById(x);
	//alert(id.value);
	if(id.value == ""){
		//alert("아이디를 입력하세요");
	}else if(!(id.value.length >= 5 && id.value.length <= 12)){
		//alert("(영문)5자 이상 12자 이하로 입력하세요");
		document.getElementById(x).select();
		document.getElementById(x).focus();
	}
	if (!(checkId(id.value))){
		document.getElementById(x).select();
		document.getElementById(x).focus();
	}
}
function checkId(ch){
   c = ch.charCodeAt(0);
   if( (48 <= c && c <= 57) || (96 <= c && c <= 105)) return true;
   return false;
}
function joinCheck(){
	var memberName = document.getElementById("memberName").value;
	var memberId = document.getElementById("memberId").value;
	var memberNick = document.getElementById("memberNick").value;
	var mem_birthday = document.getElementById("birthday").value;

    //alert(calcAge(mem_birthday));
	var real_age = calcAge(mem_birthday);
	document.getElementById("real_age").innerHTML = real_age;
}
function calcAge(birthday){
	var date = new Date();
	var year = date.getFullYear();
	var month = (date.getMonth()+1);
	var day = date.getDate();
	if( month < 10 ) month = '0' + month;
	if( day < 10 ) day = '0' + day;
	var monthDay = month + day;
	birthday = birthday.replace('-', '').replace('-', '');
	var birthday_year = birthday.substr(0,4);
	var birthday_mmdd = birthday.substr(4,4);

	var age = monthDay < birthday_mmdd ? year - birthday_year - 1 : year - birthday_year;
	return age;
}
</script>
</head>
<body>
	<p>이름 : <input 
		type="text" 
		id="memberName" 
		placeholder="입력하세요"
		size=15
		maxlength="5"
		onfocus="changeBgColor(this.id);"
		onfocusout="changeBgColorOrg(this.id);"
		onkeydown="keyPress_hangul(this.id);"
		required /><span id="reqText_Name" style="padding-left:10px;font-size:12px;font-style:italic;;"></span>
	</p>
	<p>아이디 : <input 
		type="text" 
		id="memberId" 
		size=13
		maxlength="12"
		onfocusout="keyPress_id(this.id);"
		pattern="/^[a-zA-Z0-9]{5,12}$"
		required /><span id="reqText_Id" style="padding-left:10px;font-size:12px;font-style:italic;;"></span>
	</p>
	<p>비밀번호 : <input 
		type="text" 
		id="memberPw" 
		size=11
		maxlength="12"
		onfocusout="keyPress_pw(this.id);"
		pattern="/^[a-zA-Z0-9]{5,12}$"
		required /><span id="reqText_Id" style="padding-left:10px;font-size:12px;font-style:italic;;"></span>
	</p>
	<p>닉네임 : <input 
		type="text" 
		id="memberNick" 
		size=13
		maxlength="12"
		onfocusout="keyPress_nick(this.id);"
		pattern="/^[a-zA-Z0-9]{5,12}$"
		required /><span id="reqText_Id" style="padding-left:10px;font-size:12px;font-style:italic;;"></span>
	</p>
	<p>생일 : <input type="date" id="birthday" /> 만 <span id="real_age"></span>세</p>
	<button onclick="joinCheck()">가입</button>
</body>
</html>